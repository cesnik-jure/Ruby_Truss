require_relative 'new_methods'
require 'rubygems'
require 'builder'

# Input of all the data and its preparation for the FEM_Engine.rb.
# Numbers of start and end nodes of elements.
#el_node = Matrix[[1, 2], [2, 3], [1, 4], [2, 4], [3, 4]]
el_node = Matrix[[1, 2], [2, 3], [1, 3]]
# Global coordinates of nodes. 
#xy_node = Matrix[[-4, 3], [0, 3], [4, 3], [0, 0]]
xy_node = Matrix[[0, 0], [0, 5], [5, 0]]
# Elastic modulus and cross sections of elements.
#em_a = Matrix[[3000, 2], [3000, 2], [3000, 2], [3000, 2], [3000, 2]]
em_a = Matrix[[10 ** 5, 2], [10 ** 5, 1], [10 ** 5, 0.5]]   
# Supports in [node, direction] for the truss.
#su = Matrix[[1,1], [1,2], [3,1], [3,2]] 
su = Matrix[[1,1], [1,2], [3,1], [3,2]]
# Forces on the nodes.
#f = [0,0,0,-80,0,0,0,0] 
f = [0,0,10,0,0,0] 

favorites = {
  'candy' => 'Neccos', 'novel' => 'Empire of the Sun', 'holiday' => 'Easter'
}

# Ustvari novo mapo, če ta še en obstaja
truss_name = "truss_sample"
Dir::mkdir("Samples/" + truss_name) unless File.exists?("Samples/" + truss_name) 

file = File.new("Samples/" + truss_name + "/" + truss_name + ".xml", "w")
xml = Builder::XmlMarkup.new( :target => file, :indent => 2 )

xml.instruct! :xml, :version => "1.1", :encoding => "UTF-8"

xml.favorites do 
 favorites.each do | name, choice |
  xml.favorite( choice, :item => name )
 end
end

file.close




